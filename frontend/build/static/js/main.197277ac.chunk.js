(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{136:function(e,t,n){},137:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),s=n.n(r),o=(n(136),n(12)),i=(n.p,n(137),n(222)),j=n(223),l=n(115),u=n(116),b=new(function(){function e(){Object(l.a)(this,e),this.authenticated=!1}return Object(u.a)(e,[{key:"isAuthenticated",value:function(){return!!localStorage.getItem("userObj")}},{key:"checkrole",value:function(){return JSON.parse(localStorage.getItem("userObj")).role}}]),e}()),d=n(225),O=n(228),h=n(21),m=n(2);var f=function(){return Object(m.jsxs)(d.a,{bg:"light",expand:"lg",children:[Object(m.jsx)(d.a.Brand,{href:"/",children:"Online Class Room"}),Object(m.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsx)(O.a,{className:"mr-auto",children:Object(m.jsx)(h.b,{to:"/admin",children:"Admin"})})})]})},x=n(65),p=n(8),g=n(118),v=n(218),S=n(119),y=n(219),C=n(124),I=n(10);var k=function(){var e=Object(c.useState)({username:"",role:"Select Role"}),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(I.g)();return Object(m.jsx)(g.a,{md:{span:6,offset:3},children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(S.a,{placeholder:"Your username","aria-label":"Your username","aria-describedby":"basic-addon2",onChange:function(e){return t=e,void a(Object(o.a)(Object(o.a)({},n),{},Object(x.a)({},t.target.name,t.target.value)));var t},value:n.username,name:"username"}),Object(m.jsxs)(y.a,{onSelect:function(e){return t=e,void a(Object(o.a)(Object(o.a)({},n),{},{role:t}));var t},as:v.a.Append,variant:"outline-secondary",title:n.role,id:"input-group-dropdown-2",onClick:function(){n.username.length>0&&"Select Role"!=n.role&&(localStorage.setItem("userObj",JSON.stringify({role:n.role,username:n.username})),r.push("/".concat(n.role)))},children:[Object(m.jsx)(C.a.Item,{eventKey:"Teacher",children:"I am a Teacher"}),Object(m.jsx)(C.a.Item,{eventKey:"Student",children:"I am a Student"}),Object(m.jsx)(C.a.Divider,{})]})]})})},w=n(45),T=n.n(w),D=n(121),L=n(229),F=n(122),J=n.n(F),A=n(27),E=n.n(A);var M=function(){var e=Object(I.g)(),t=Object(I.h)();console.log("Hi",t);var n=Object(c.useState)([]),a=Object(p.a)(n,2),r=a[0],s=a[1];return J.a.parse(Object(I.h)().search).message,Object(c.useEffect)((function(){E.a.get("".concat("http://104.237.2.69:5000","/api/classes")).then((function(e){s(e.data.data)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{md:{span:1,offset:0},children:b.isAuthenticated()?Object(m.jsx)(D.a,{variant:"outline-primary",onClick:function(){localStorage.clear(),e.push("/")},children:"Logout"}):""}),Object(m.jsx)(g.a,{md:{span:4,offset:1},children:Object(m.jsx)(L.a,{children:r.map((function(t){return Object(m.jsxs)(L.a.Item,{children:[" ",t.name," ",Object(m.jsx)(D.a,{onClick:function(){return n=t._id,c=t.name,void e.push("/Teacher/join/".concat(c,"/").concat(n));var n,c},style:{marginLeft:"20px"},variant:"outline-info",children:" Join"})," "]},t._id)}))})})]})};var N=function(){var e=Object(I.g)(),t=Object(c.useState)([]),n=Object(p.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){E.a.get("".concat("http://104.237.2.69:5000","/api/liveClasses")).then((function(e){r(e.data.data)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:b.isAuthenticated()?Object(m.jsx)(D.a,{variant:"outline-primary",onClick:function(){localStorage.clear(),e.push("/")},children:"Logout"}):""}),Object(m.jsx)(g.a,{md:{span:3,offset:0},children:Object(m.jsx)(L.a,{children:a.map((function(t){return Object(m.jsxs)(L.a.Item,{children:[" ",t.name," ",Object(m.jsx)(D.a,{onClick:function(){return n=t._id,c=t.name,void e.push("/Student/join/".concat(c,"/").concat(n));var n,c},variant:"outline-info",children:" Join"})]},t._id)}))})})]})},B=n(78);function P(e){var t=e.component,n=Object(B.a)(e,["component"]);return Object(m.jsx)(I.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){var n=e.location.pathname.split("/");return console.log(n),b.isAuthenticated()&&b.checkrole()===n[1]?Object(m.jsx)(t,Object(o.a)({},e)):Object(m.jsx)(I.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function _(e){var t=e.component,n=Object(B.a)(e,["component"]);return Object(m.jsx)(I.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return b.isAuthenticated()?"Teacher"===b.checkrole()?Object(m.jsx)(I.a,{to:{pathname:"/Teacher",state:{from:e.location}}}):Object(m.jsx)(I.a,{to:{pathname:"/Student",state:{from:e.location}}}):Object(m.jsx)(t,Object(o.a)({},e))}}))}var G=n(226),H=n(123),R=n.n(H);var Y=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(p.a)(r,2),o=s[0],i=s[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{md:{span:4,offset:1},children:Object(m.jsxs)(G.a,{children:[Object(m.jsxs)(G.a.Group,{controlId:"formBasicPassword",children:[Object(m.jsx)(G.a.Label,{children:"Class Id"}),Object(m.jsx)(G.a.Control,{type:"text",value:n,placeholder:"Message",onChange:function(e){return function(e){a(e.target.value)}(e)}})]}),Object(m.jsx)(D.a,{variant:"primary",type:"button",onClick:function(){E.a.get("".concat("http://104.237.2.69:5000","/api/class/").concat(n)).then((function(e){i(e.data.data),a("")}))},children:"Submit"})]})}),Object(m.jsx)(g.a,{md:{span:5,offset:1},children:o?Object(m.jsx)(R.a,{src:o}):""})]})},q=n(227),K=n(224),z="http://104.237.2.69:5000";function Q(e){return Object(m.jsx)(K.a,Object(o.a)({elevation:6,variant:"filled"},e))}var U=function(e){var t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(null),i=Object(p.a)(o,2),j=i[0],l=i[1],u=Object(c.useState)(""),d=Object(p.a)(u,2),O=d[0],h=d[1],f=Object(c.useState)(""),x=Object(p.a)(f,2),v=x[0],S=x[1],y=a.a.useState(!1),C=Object(p.a)(y,2),k=C[0],w=C[1],F=Object(c.useState)(""),J=Object(p.a)(F,2),A=J[0],M=J[1],N=Object(I.g)(),B=function(e,t){"clickaway"!==t&&w(!1)};return Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userObj"));t.room=e.id;var n=T()("".concat(z),{query:t});return n&&(s(n),n.on("connect",(function(){console.log("I'm connected with the back-end")})),n.on("disconnect",(function(e){return console.log("Disconnected: ".concat(e.id))})),n.on("message",(function(e){h(+new Date),M(e),w(!0)})),n.on("internalmessage",(function(e){M(e),w(!0)})),n.on("userjoin",(function(){h(+new Date)})),n.on("endclass",(function(e){alert(e),N.push("/Teacher")}))),function(){n.disconnect()}}),[]),Object(c.useEffect)((function(){var t=e.id,n=!0;return t&&E.a.get("".concat(z,"/api/class/").concat(t)).then((function(e){n&&(e.data.data.isActive&&(N.push("/Teacher"),alert("You can't join running class as a teacher")),l(e.data.data))})).catch((function(e){console.log(e)})),function(){n=!1}}),[O]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q.a,{open:k,autoHideDuration:6e3,onClose:B,children:Object(m.jsx)(Q,{onClose:B,severity:"success",children:A})}),Object(m.jsx)(g.a,{md:{span:1,offset:0},children:b.isAuthenticated()?Object(m.jsx)(D.a,{variant:"outline-primary",onClick:function(){localStorage.clear(),N.push("/")},children:"Logout"}):""}),Object(m.jsxs)(g.a,{md:{span:4,offset:0},children:[Object(m.jsxs)(D.a,{style:{marginLeft:"20px"},variant:"outline-danger",children:[" ",e.name]}),Object(m.jsx)(D.a,{style:{marginLeft:"20px"},onClick:function(){return function(){e.id;var t=JSON.parse(localStorage.getItem("userObj"));r.emit("create",{room:e.id,username:t.username,role:t.role}),h(+new Date)}()},variant:"outline-info",children:" Start"}),Object(m.jsx)(D.a,{style:{marginLeft:"20px"},onClick:function(){return function(t){var n=JSON.parse(localStorage.getItem("userObj"));n.room=e.id,r.emit("manualdisconnect",n)}()},variant:"outline-info",children:" Stop"})]}),Object(m.jsxs)(g.a,{md:{span:2,offset:0},children:[Object(m.jsx)("h4",{children:"Student"}),Object(m.jsx)("br",{}),j?Object(m.jsx)(L.a,{children:j.students.map((function(e,t){return e.active?Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"  ",Object(m.jsx)("img",{src:"https://img.icons8.com/emoji/20/000000/green-circle-emoji.png"})]},t):Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"   ",Object(m.jsx)("img",{src:"https://img.icons8.com/material-sharp/20/000000/error-cloud.png"})]},t)}))}):""]}),Object(m.jsxs)(g.a,{md:{span:2,offset:0},children:[Object(m.jsx)("h4",{children:"Teacher"}),Object(m.jsx)("br",{}),j?Object(m.jsx)(L.a,{children:j.teachers.map((function(e,t){return e.active?Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"  ",Object(m.jsx)("img",{src:"https://img.icons8.com/emoji/20/000000/green-circle-emoji.png"})]},t):Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"   ",Object(m.jsx)("img",{src:"https://img.icons8.com/material-sharp/20/000000/error-cloud.png"})]},t)}))}):""]}),Object(m.jsx)(g.a,{md:{span:2,offset:1},children:Object(m.jsxs)(G.a,{children:[Object(m.jsxs)(G.a.Group,{controlId:"formBasicPassword",children:[Object(m.jsx)(G.a.Label,{children:"Message"}),Object(m.jsx)(G.a.Control,{type:"text",value:v,placeholder:"Message",onChange:function(e){S(e.target.value)}})]}),Object(m.jsx)(D.a,{variant:"primary",type:"button",onClick:function(){v.length>0&&(r.emit("classMessage",{room:e.id,message:v}),S(""))},children:"Submit"})]})})]})},V="http://104.237.2.69:5000";function W(e){return Object(m.jsx)(K.a,Object(o.a)({elevation:6,variant:"filled"},e))}var X=function(e){var t=Object(c.useState)(null),n=Object(p.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(null),i=Object(p.a)(o,2),j=i[0],l=i[1],u=Object(c.useState)(""),b=Object(p.a)(u,2),d=b[0],O=b[1],h=a.a.useState(!1),f=Object(p.a)(h,2),x=f[0],v=f[1],S=Object(c.useState)(""),y=Object(p.a)(S,2),C=y[0],k=y[1],w=Object(c.useState)(""),F=Object(p.a)(w,2),J=F[0],A=F[1],M=Object(I.g)(),N=function(e,t){"clickaway"!==t&&v(!1)};return Object(c.useEffect)((function(){var t=e.id,n=!0;return t&&E.a.get("".concat(V,"/api/class/").concat(t)).then((function(e){n&&l(e.data.data)})).catch((function(e){console.log(e)})),function(){n=!1}}),[d]),Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userObj")),n=T()("".concat(V),{query:t});n.emit("join",{room:e.id,username:t.username,role:t.role}),O(+new Date),n&&(s(n),n.on("connect",(function(){console.log("I'm connected with the back-end")})),n.on("disconnect",(function(e){return console.log("Disconnected: ".concat(e.id))})),n.on("message",(function(e){O(+new Date),k(e),v(!0)})),n.on("errorjoining",(function(e){alert(e),M.push("/Student")})),n.on("internalmessage",(function(e){k(e),v(!0)})),n.on("userjoin",(function(e){k(e),v(!0),O(+new Date)})),n.on("endclass",(function(e){M.push("/Teacher"),alert(e)})))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q.a,{open:x,autoHideDuration:6e3,onClose:N,children:Object(m.jsx)(W,{onClose:N,severity:"success",children:C})}),Object(m.jsxs)(g.a,{md:{span:3,offset:1},children:[Object(m.jsx)("h4",{children:"Students"}),Object(m.jsx)("br",{}),j?Object(m.jsx)(L.a,{children:j.students.map((function(e,t){return e.active?Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"  ",Object(m.jsx)("img",{src:"https://img.icons8.com/emoji/20/000000/green-circle-emoji.png"})]},t):Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"   ",Object(m.jsx)("img",{src:"https://img.icons8.com/material-sharp/20/000000/error-cloud.png"})]},t)}))}):""]}),Object(m.jsxs)(g.a,{md:{span:3,offset:1},children:[Object(m.jsx)("h4",{children:"Teacher"}),Object(m.jsx)("br",{}),j?Object(m.jsx)(L.a,{children:j.teachers.map((function(e,t){return e.active?Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"  ",Object(m.jsx)("img",{src:"https://img.icons8.com/emoji/20/000000/green-circle-emoji.png"})]},t):Object(m.jsxs)(L.a.Item,{children:[Object(m.jsxs)("h6",{children:[e.username," "]}),"   ",Object(m.jsx)("img",{src:"https://img.icons8.com/material-sharp/20/000000/error-cloud.png"})]},t)}))}):""]}),Object(m.jsx)(g.a,{md:{span:3,offset:1},children:Object(m.jsxs)(G.a,{children:[Object(m.jsxs)(G.a.Group,{controlId:"formBasicPassword",children:[Object(m.jsx)(G.a.Label,{children:"Message"}),Object(m.jsx)(G.a.Control,{type:"text",value:J,placeholder:"Message",onChange:function(e){A(e.target.value)}})]}),Object(m.jsx)(D.a,{variant:"primary",type:"button",onClick:function(){J.length>0&&(r.emit("classMessage",{room:e.id,message:J}),A(""))},children:"Submit"})]})})]})};var Z=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(i.a,{children:Object(m.jsx)(j.a,{style:{marginTop:"180px"},children:Object(m.jsxs)(I.d,{children:[Object(m.jsx)(P,{exact:!0,path:"/Teacher",component:function(e){return Object(m.jsx)(M,Object(o.a)({},e))}}),Object(m.jsx)(P,{exact:!0,path:"/Teacher/join/:name/:id",component:function(e){return Object(m.jsx)(U,{id:e.match.params.id,name:e.match.params.name})}}),Object(m.jsx)(P,{exact:!0,path:"/Student/join/:name/:id",component:function(e){return Object(m.jsx)(X,{id:e.match.params.id,name:e.match.params.name})}}),Object(m.jsx)(P,{exact:!0,path:"/Student",component:function(e){return Object(m.jsx)(N,Object(o.a)({},e))}}),Object(m.jsx)(_,{exact:!0,path:"/",component:function(){return Object(m.jsx)(k,{})}}),Object(m.jsx)(I.b,{exact:!0,path:"/admin",component:function(){return Object(m.jsx)(Y,{})}})]})})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(197);s.a.render(Object(m.jsx)(h.a,{children:Object(m.jsx)(Z,{})}),document.getElementById("root")),$()}},[[198,1,2]]]);
//# sourceMappingURL=main.197277ac.chunk.js.map